(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{171:function(e,t,a){},172:function(e,t,a){},355:function(e,t,a){"use strict";a.r(t);var c=a(4),n=a(1),r=a.n(n),s=a(49),i=a.n(s),d=(a(171),a(12));a(172);var o=function(e){return Object(c.jsxs)("div",{className:"card mb-3 ".concat(e.theme),children:[Object(c.jsx)("img",{src:"http://openweathermap.org/img/wn/"+e.standardWeather.weather[0].icon+"@2x.png",className:"card-img-top mx-auto",alt:"...",style:{width:"100px"}}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsxs)("h5",{className:"card-title",children:["Weather in ",e.standardWeather.name,","," ",e.standardWeather.sys.country]}),Object(c.jsxs)("p",{className:"card-text",children:["Currently it feels like"," ",Math.round(e.standardWeather.main.feels_like-273.15),"\xb0C in"," ",e.standardWeather.name,Object(c.jsx)("br",{}),e.standardWeather.weather[0].main," -"," ",e.standardWeather.weather[0].description]}),Object(c.jsx)("div",{className:"card-text",children:Object(c.jsx)("small",{className:"text-muted",children:Object(c.jsx)("div",{className:"card ".concat(e.theme),children:Object(c.jsxs)("div",{className:"card-body ".concat(e.theme),children:["Minimum temperature:"," ",Math.round(e.standardWeather.main.temp_min-273.15),"\xb0C",Object(c.jsx)("br",{}),"Maximum temperature:"," ",Math.round(e.standardWeather.main.temp_max-273.15),"\xb0C",Object(c.jsx)("br",{}),"Pressure: ",e.standardWeather.main.pressure,"hPa",Object(c.jsx)("br",{}),"Humidity: ",e.standardWeather.main.humidity,"%",Object(c.jsx)("br",{})]})})})})]})]})},l=a(19);var j=function(e){var t=[];return console.log(e),e.detailedWeather.hourly.slice(0,12).map((function(e){t.push({name:new Date(1e3*e.dt).getHours()+":"+new Date(1e3*e.dt).getMinutes()+"0",temp:Math.floor(e.temp-273)})})),Object(c.jsx)("div",{className:"container mt-3",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"card-text col-12 mb-3",children:Object(c.jsx)("small",{className:"text-muted",children:Object(c.jsx)("div",{className:"card ".concat(e.theme),children:Object(c.jsx)("div",{className:"card-body ".concat(e.theme),children:Object(c.jsxs)("div",{style:{width:"100%",height:"30vh"},children:["Hourly temperature forecast",Object(c.jsx)(l.d,{children:Object(c.jsxs)(l.b,{data:t,margin:{top:0,right:0,left:-40,bottom:0},children:[Object(c.jsx)(l.c,{strokeDasharray:"2 2"}),Object(c.jsx)(l.f,{dataKey:"name"}),Object(c.jsx)(l.g,{}),Object(c.jsx)(l.e,{}),Object(c.jsx)(l.a,{type:"monotone",dataKey:"temp",stroke:"#8884d8",fill:"#8884d8"})]})})]})})})})})})})},b=Object({NODE_ENV:"production",PUBLIC_URL:"/weather",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).OPENWEATHERMAP_API_KEY;var h=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(!1),i=Object(d.a)(s,2),l=i[0],h=i[1],m=Object(n.useState)(!1),u=Object(d.a)(m,2),O=u[0],x=u[1],p=Object(n.useState)(!1),f=Object(d.a)(p,2),g=f[0],v=f[1],N=Object(n.useState)(""),y=Object(d.a)(N,2),S=y[0],w=y[1],W=Object(n.useState)(""),E=Object(d.a)(W,2),C=E[0],_=E[1],k=Object(n.useState)(""),I=Object(d.a)(k,2),P=I[0],T=I[1],M=Object(n.useState)(),D=Object(d.a)(M,2),R=D[0],H=D[1],A=Object(n.useState)(),F=Object(d.a)(A,2),K=F[0],L=F[1];Object(n.useEffect)((function(){var e=localStorage.getItem("city");null!==e&&""!==e||(e="London",localStorage.setItem("city",e)),q(e);var t=localStorage.getItem("theme");null!==t&&""!==t||(t="bg-light text-dark",localStorage.setItem("theme",t)),r(t)}),[]),Object(n.useEffect)((function(){localStorage.setItem("theme",a)}),[a]);var B=Object(n.useRef)(!0),J=Object(n.useRef)(!0),U=Object(n.useRef)(!0),q=function(e){localStorage.setItem("city",e),w(e),T(e)};return Object(n.useEffect)((function(){B.current?B.current=!1:fetch("https://api.openweathermap.org/data/2.5/weather?q="+P+"&appid="+b).then((function(e){return e.json()})).then((function(e){H(e)})).catch((function(e){h(!1),v(!1),console.error("Error:",e)}))}),[P]),Object(n.useEffect)((function(){J.current?J.current=!1:(h(!0),v(!0),fetch("https://api.openweathermap.org/data/2.5/onecall?lat="+R.coord.lat+"&lon="+R.coord.lon+"&exclude={part}&appid="+b).then((function(e){return e.json()})).then((function(e){L(e),v(!0)})).catch((function(e){x(!1),v(!1),console.error("Error:",e)})))}),[R]),Object(n.useEffect)((function(){U.current?U.current=!1:(x(!0),console.log(K),v(!0))}),[K]),Object(c.jsx)("div",{className:"App ".concat(a),children:Object(c.jsxs)("div",{className:"container-fluid ".concat(a),children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-sm w-auto p-5",children:Object(c.jsxs)("div",{className:"input-group mb-3",children:[Object(c.jsx)("input",{type:"text",className:"form-control",placeholder:S,"aria-label":"Location","aria-describedby":"button-addon2",onChange:function(e){_(e.target.value)}}),Object(c.jsx)("div",{className:"input-group-append",children:Object(c.jsx)("button",{className:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:function(){localStorage.setItem("city",C),w(C),T(C)},children:"Get Weather"})})]})})}),Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col",children:[l&&g&&Object(c.jsx)(o,{theme:a,standardWeather:R}),O&&Object(c.jsx)("div",{children:Object(c.jsx)(j,{detailedWeather:K,theme:a})}),!l&&Object(c.jsx)("div",{className:"card mb-3 ".concat(a),children:Object(c.jsx)("div",{className:"card-body",children:Object(c.jsx)("h5",{className:"card-title",children:"Please select a valid city"})})}),!g&&Object(c.jsx)("div",{className:"card mb-3 ".concat(a),children:Object(c.jsx)("div",{className:"card-body",children:Object(c.jsx)("div",{className:"spinner-grow",role:"status"})})}),Object(c.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){r("bg-light text-dark"===a?"bg-dark text-white":"bg-light text-dark")},style:{marginBottom:"30px"},children:"Switch theme"})]})})]})})},m=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,357)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};a(352).config(),i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(h,{})}),document.getElementById("root")),m()}},[[355,1,2]]]);
//# sourceMappingURL=main.7470f161.chunk.js.map