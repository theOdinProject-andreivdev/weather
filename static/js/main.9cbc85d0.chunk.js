(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{10:function(e,t,c){},11:function(e,t,c){},12:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(1),s=c.n(n),i=c(4),r=c.n(i),l=(c(10),c(2));c(11);var o=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),c=t[0],s=t[1],i=Object(n.useState)(!0),r=Object(l.a)(i,2),o=r[0],d=r[1],m=Object(n.useState)(!1),b=Object(l.a)(m,2),j=b[0],u=b[1],h=Object(n.useState)(""),p=Object(l.a)(h,2),O=p[0],x=p[1],f=Object(n.useState)(""),g=Object(l.a)(f,2),y=g[0],v=g[1],N=Object(n.useState)(""),w=Object(l.a)(N,2),S=w[0],k=w[1],_=Object(n.useState)({city:"",country:"",main:"",description:"",temp:0,feels_like:0,temp_min:0,temp_max:0,pressure:0,humidity:0,icon:""}),C=Object(l.a)(_,2),I=C[0],M=C[1];Object(n.useEffect)((function(){var e=localStorage.getItem("city");null!==e&&""!==e||(e="London",localStorage.setItem("city",e)),P(e);var t=localStorage.getItem("theme");null!==t&&""!==t||(t="bg-light text-dark",localStorage.setItem("theme",t)),s(t)}),[]),Object(n.useEffect)((function(){localStorage.setItem("theme",c)}),[c]);var E=Object(n.useRef)(!0);Object(n.useEffect)((function(){E.current?E.current=!1:fetch("https://api.openweathermap.org/data/2.5/weather?q="+S+"&appid=04e0dee5fe194dcd20fb3d326d8e5a4d").then((function(e){return e.json()})).then((function(e){d(!0),u(!0),F(e)})).catch((function(e){d(!1),u(!1),console.error("Error:",e)}))}),[S]);var P=function(e){localStorage.setItem("city",e),x(e),k(e)},F=function(e){M({city:e.name,country:e.sys.country,main:e.weather[0].main,description:e.weather[0].description,temp:e.main.temp,feels_like:e.main.feels_like,temp_min:e.main.temp_min,temp_max:e.main.temp_max,pressure:e.main.pressure,humidity:e.main.humidity,icon:"http://openweathermap.org/img/wn/"+e.weather[0].icon+"@2x.png"})};return Object(a.jsx)("div",{className:"App ".concat(c),children:Object(a.jsxs)("div",{className:"container-fluid",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-sm w-auto p-5",children:Object(a.jsxs)("div",{className:"input-group mb-3",children:[Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:O,"aria-label":"Location","aria-describedby":"button-addon2",onChange:function(e){v(e.target.value)}}),Object(a.jsx)("div",{className:"input-group-append",children:Object(a.jsx)("button",{className:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:function(){localStorage.setItem("city",y),x(y),k(y)},children:"Get Weather"})})]})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col",children:[o&&j&&Object(a.jsxs)("div",{className:"card mb-3 ".concat(c),children:[Object(a.jsx)("img",{src:I.icon,className:"card-img-top mx-auto",alt:"...",style:{width:"100px"}}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)("h5",{className:"card-title",children:["Weather in ",I.city,", ",I.country]}),Object(a.jsxs)("p",{className:"card-text",children:["Currently it feels like"," ",Math.round(I.feels_like-273.15),"\xb0C in"," ",I.city,Object(a.jsx)("br",{}),I.main," - ",I.description]}),Object(a.jsx)("div",{className:"card-text",children:Object(a.jsx)("small",{className:"text-muted",children:Object(a.jsx)("div",{className:"card ".concat(c),children:Object(a.jsxs)("div",{className:"card-body ".concat(c),children:["Minimum temperature:"," ",Math.round(I.temp_min-273.15),"\xb0C",Object(a.jsx)("br",{}),"Maximum temperature:"," ",Math.round(I.temp_max-273.15),"\xb0C",Object(a.jsx)("br",{}),"Pressure: ",I.pressure,"hPa",Object(a.jsx)("br",{}),"Humidity: ",I.humidity,"%",Object(a.jsx)("br",{})]})})})})]})]}),!o&&Object(a.jsx)("div",{className:"card mb-3 ".concat(c),children:Object(a.jsx)("div",{className:"card-body",children:Object(a.jsx)("h5",{className:"card-title",children:"Please select a valid city"})})}),!j&&Object(a.jsx)("div",{className:"card mb-3 ".concat(c),children:Object(a.jsx)("div",{className:"card-body",children:Object(a.jsx)("div",{className:"spinner-grow",role:"status"})})}),Object(a.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){s("bg-light text-dark"===c?"bg-dark text-white":"bg-light text-dark")},children:"Switch theme"})]})})]})})},d=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,13)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),s(e),i(e)}))};r.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(o,{})}),document.getElementById("root")),d()}},[[12,1,2]]]);
//# sourceMappingURL=main.9cbc85d0.chunk.js.map