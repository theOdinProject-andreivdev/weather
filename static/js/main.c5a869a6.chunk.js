(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{170:function(e,t,a){},171:function(e,t,a){},352:function(e,t,a){"use strict";a.r(t);var c=a(4),n=a(1),r=a.n(n),s=a(49),d=a.n(s),i=(a(170),a(12));a(171);var o=function(e){return Object(c.jsxs)("div",{className:"card mb-3 ".concat(e.theme),children:[Object(c.jsx)("img",{src:"http://openweathermap.org/img/wn/"+e.standardWeather.weather[0].icon+"@2x.png",className:"card-img-top mx-auto",alt:"...",style:{width:"100px"}}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsxs)("h5",{className:"card-title",children:["Weather in ",e.standardWeather.name,","," ",e.standardWeather.sys.country]}),Object(c.jsxs)("p",{className:"card-text",children:["Currently it feels like"," ",Math.round(e.standardWeather.main.feels_like-273.15),"\xb0C in"," ",e.standardWeather.name,Object(c.jsx)("br",{}),e.standardWeather.weather[0].main," -"," ",e.standardWeather.weather[0].description]}),Object(c.jsx)("div",{className:"card-text",children:Object(c.jsx)("small",{className:"text-muted",children:Object(c.jsx)("div",{className:"card ".concat(e.theme),children:Object(c.jsxs)("div",{className:"card-body ".concat(e.theme),children:["Minimum temperature:"," ",Math.round(e.standardWeather.main.temp_min-273.15),"\xb0C",Object(c.jsx)("br",{}),"Maximum temperature:"," ",Math.round(e.standardWeather.main.temp_max-273.15),"\xb0C",Object(c.jsx)("br",{}),"Pressure: ",e.standardWeather.main.pressure,"hPa",Object(c.jsx)("br",{}),"Humidity: ",e.standardWeather.main.humidity,"%",Object(c.jsx)("br",{})]})})})})]})]})},l=a(19);var j=function(e){var t=[];return console.log(e),e.detailedWeather.hourly.slice(0,12).map((function(e){t.push({name:new Date(1e3*e.dt).getHours()+":"+new Date(1e3*e.dt).getMinutes()+"0",temp:Math.floor(e.temp-273)})})),Object(c.jsx)("div",{className:"container mt-3",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"card-text col-12 mb-3",children:Object(c.jsx)("small",{className:"text-muted",children:Object(c.jsx)("div",{className:"card ".concat(e.theme),children:Object(c.jsx)("div",{className:"card-body ".concat(e.theme),children:Object(c.jsx)("div",{style:{width:"100%",height:"30vh"},children:Object(c.jsx)(l.d,{children:Object(c.jsxs)(l.b,{data:t,margin:{top:0,right:0,left:-40,bottom:0},children:[Object(c.jsx)(l.c,{strokeDasharray:"2 2"}),Object(c.jsx)(l.f,{dataKey:"name"}),Object(c.jsx)(l.g,{}),Object(c.jsx)(l.e,{}),Object(c.jsx)(l.a,{type:"monotone",dataKey:"temp",stroke:"#8884d8",fill:"#8884d8"})]})})})})})})})})})},b="04e0dee5fe194dcd20fb3d326d8e5a4d";var h=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(!1),d=Object(i.a)(s,2),l=d[0],h=d[1],m=Object(n.useState)(!1),u=Object(i.a)(m,2),O=u[0],x=u[1],p=Object(n.useState)(!1),f=Object(i.a)(p,2),g=f[0],v=f[1],N=Object(n.useState)(""),y=Object(i.a)(N,2),w=y[0],S=y[1],W=Object(n.useState)(""),k=Object(i.a)(W,2),C=k[0],I=k[1],E=Object(n.useState)(""),M=Object(i.a)(E,2),P=M[0],D=M[1],F=Object(n.useState)(),L=Object(i.a)(F,2),B=L[0],H=L[1],R=Object(n.useState)(),_=Object(i.a)(R,2),J=_[0],K=_[1];Object(n.useEffect)((function(){var e=localStorage.getItem("city");null!==e&&""!==e||(e="London",localStorage.setItem("city",e)),G(e);var t=localStorage.getItem("theme");null!==t&&""!==t||(t="bg-light text-dark",localStorage.setItem("theme",t)),r(t)}),[]),Object(n.useEffect)((function(){localStorage.setItem("theme",a)}),[a]);var T=Object(n.useRef)(!0),q=Object(n.useRef)(!0),A=Object(n.useRef)(!0),G=function(e){localStorage.setItem("city",e),S(e),D(e)};return Object(n.useEffect)((function(){T.current?T.current=!1:fetch("https://api.openweathermap.org/data/2.5/weather?q="+P+"&appid="+b).then((function(e){return e.json()})).then((function(e){H(e)})).catch((function(e){h(!1),v(!1),console.error("Error:",e)}))}),[P]),Object(n.useEffect)((function(){q.current?q.current=!1:(h(!0),v(!0),fetch("https://api.openweathermap.org/data/2.5/onecall?lat="+B.coord.lat+"&lon="+B.coord.lon+"&exclude={part}&appid="+b).then((function(e){return e.json()})).then((function(e){K(e),v(!0)})).catch((function(e){x(!1),v(!1),console.error("Error:",e)})))}),[B]),Object(n.useEffect)((function(){A.current?A.current=!1:(x(!0),console.log(J),v(!0))}),[J]),Object(c.jsx)("div",{className:"App ".concat(a),children:Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-sm w-auto p-5",children:Object(c.jsxs)("div",{className:"input-group mb-3",children:[Object(c.jsx)("input",{type:"text",className:"form-control",placeholder:w,"aria-label":"Location","aria-describedby":"button-addon2",onChange:function(e){I(e.target.value)}}),Object(c.jsx)("div",{className:"input-group-append",children:Object(c.jsx)("button",{className:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:function(){localStorage.setItem("city",C),S(C),D(C)},children:"Get Weather"})})]})})}),Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col",children:[l&&g&&Object(c.jsx)(o,{theme:a,standardWeather:B}),O&&Object(c.jsxs)("div",{children:["Hourly temperature forecast",Object(c.jsx)(j,{detailedWeather:J,theme:a})]}),!l&&Object(c.jsx)("div",{className:"card mb-3 ".concat(a),children:Object(c.jsx)("div",{className:"card-body",children:Object(c.jsx)("h5",{className:"card-title",children:"Please select a valid city"})})}),!g&&Object(c.jsx)("div",{className:"card mb-3 ".concat(a),children:Object(c.jsx)("div",{className:"card-body",children:Object(c.jsx)("div",{className:"spinner-grow",role:"status"})})}),Object(c.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){r("bg-light text-dark"===a?"bg-dark text-white":"bg-light text-dark")},style:{marginBottom:"30px"},children:"Switch theme"})]})})]})})},m=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,354)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};d.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(h,{})}),document.getElementById("root")),m()}},[[352,1,2]]]);
//# sourceMappingURL=main.c5a869a6.chunk.js.map